(()=>{"use strict";var e={inputSelector:"popup__input",buttonSubmitClass:"popup__btn-save",disableButtonClass:"popup__btn-save_disabled",inputErrorClass:"popup__input_type_error",activeErrorClass:"popup__input-error_visible",profileAvatarSelector:".profile__avatar",profileAboutSelector:".profile__about",profileNameSelector:".profile__name",popupEditProfileSelector:".popup_form_edit",popupAddcardTemplateSelector:".popup_form_add",popupViewerSelector:".popup_viewer",popupConfirmSelector:".popup_form_confirm",popupUpdateAvatarSelector:".popup_form_avatar"},t=document.querySelector(".profile"),r=t.querySelector(".profile__btn-edit"),n=t.querySelector(".profile__btn-add"),o="#card-template";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===i(o)?o:String(o)),n)}var o}var u=function(){function e(t){var r=t.headers,n=t.baseUrl;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._headers=r,this._baseUrl=n}var t,r;return t=e,(r=[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("".concat(e.status," ").concat(e.statusText))}},{key:"getUserInfo",value:function(){var e=this._baseUrl+"/users/me";return fetch(e,{headers:this._headers}).then(this._checkResponse)}},{key:"getInitialCards",value:function(){var e=this._baseUrl+"/cards";return fetch(e,{headers:this._headers}).then(this._checkResponse)}},{key:"getServerData",value:function(){return Promise.all([this.getInitialCards(),this.getUserInfo()])}},{key:"setUserInfo",value:function(e){var t=this._baseUrl+"/users/me";return fetch(t,{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then(this._checkResponse)}},{key:"addNewCard",value:function(e){var t=this._baseUrl+"/cards";return fetch(t,{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then(this._checkResponse)}},{key:"deleteCard",value:function(e){var t=this._baseUrl+"/cards/".concat(e);return fetch(t,{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"addCardLike",value:function(e){var t=this._baseUrl+"/cards/likes/".concat(e);return fetch(t,{method:"PUT",headers:this._headers}).then(this._checkResponse)}},{key:"deleteCardLike",value:function(e){var t=this._baseUrl+"/cards/likes/".concat(e);return fetch(t,{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"setProfileAvatar",value:function(e){var t=this._baseUrl+"/users/me/avatar";return fetch(t,{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then(this._checkResponse)}}])&&a(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===l(o)?o:String(o)),n)}var o}var s=function(){function e(t){var r=t.data,n=t.userId,o=t.cardTemplateSelector,i=t.handleCardClick,a=t.handleLikeButton,u=t.handleDeleteButton;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._currentUserId=n,this._dataOwnerId=r.owner._id,this._imageLink=r.link,this._imageName=r.name,this._name=r.name,this._likes=r.likes,this._cardId=r._id,this._cardTemplateSelector=o,this._handleCardClick=i,this._handleLikeButton=a,this._handleDeleteButton=u}var t,r;return t=e,(r=[{key:"_getTemplateElement",value:function(){return document.querySelector(this._cardTemplateSelector).content.querySelector(".element").cloneNode(!0)}},{key:"_setEventListeners",value:function(){var e=this;this._currentUserId===this._dataOwnerId&&this._cardElement.querySelector(".element__btn-trash").addEventListener("click",(function(t){e._handleDeleteButton(t)})),this._likeButton.addEventListener("click",(function(t){return e._handleLikeButton(t)})),this._cardsElementImage.addEventListener("click",(function(){return e._handleCardClick()}))}},{key:"generateCard",value:function(){return this._cardElement=this._getTemplateElement(),this._likeButton=this._cardElement.querySelector(".element__btn-like"),this._countLikeElement=this._cardElement.querySelector(".element__like-count"),this._cardsElementImage=this._cardElement.querySelector(".element__image"),this._currentUserId!==this._dataOwnerId&&this._cardElement.querySelector(".element__btn-trash").remove(),this._cardsElementImage.src=this._imageLink,this._cardsElementImage.alt=this._imageName,this._cardElement.querySelector(".element__caption").textContent=this._name,this._countLikeElement.textContent=this._likes.length,this._toggleLikeState(),this._setEventListeners(),this._cardElement}},{key:"_toggleLikeState",value:function(){this._checkUserLike()?this.setLike():this.unsetLike()}},{key:"setLike",value:function(){this._likeButton.classList.add("element__btn-like_active"),this.isLiked=!0}},{key:"unsetLike",value:function(){this._likeButton.classList.remove("element__btn-like_active"),this.isLiked=!1}},{key:"setLikesCounter",value:function(e){this._countLikeElement.textContent=e.length,this._checkUserLike()&&this.setLike()}},{key:"_checkUserLike",value:function(){var e=this;return this._likes.some((function(t){return t._id===e._currentUserId}))}},{key:"getCardId",value:function(){return this._cardId}}])&&c(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===f(o)?o:String(o)),n)}var o}var y=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._selectors=t,this._formElement=r,this._inputList=Array.from(this._formElement.querySelectorAll(".".concat(this._selectors.inputSelector))),this._buttonElement=this._formElement.querySelector(".".concat(this._selectors.buttonSubmitClass))}var t,r;return t=e,(r=[{key:"enableValidation",value:function(){this._setEventListeners()}},{key:"_setEventListeners",value:function(){var e=this;this.toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e.toggleButtonState()}))}))}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_showInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));t.textContent=e.validationMessage,t.classList.add(this._selectors.activeErrorClass),e.classList.add(this._selectors.inputErrorClass)}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));t.classList.remove(this._selectors.activeErrorClass),t.textContent="",e.classList.remove(this._selectors.inputErrorClass)}},{key:"resetValidation",value:function(){var e=this;this.toggleButtonState(),this._inputList.forEach((function(t){e._hideInputError(t)}))}},{key:"toggleButtonState",value:function(){this._hasInvalidInput(this._inputList)?(this._buttonElement.classList.add(this._selectors.disableButtonClass),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._selectors.disableButtonClass),this._buttonElement.disabled=!1)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}}])&&p(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==h(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===h(o)?o:String(o)),n)}var o}var d=function(){function e(t,r){var n=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=n,this._containerElement=document.querySelector(r)}var t,r;return t=e,(r=[{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}},{key:"addNewItem",value:function(e){this._containerElement.prepend(e)}},{key:"addOldItem",value:function(e){this._containerElement.append(e)}}])&&m(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==v(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===v(o)?o:String(o)),n)}var o}var _=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,r;return t=e,(r=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListener",value:function(){var e=this;this._popup.addEventListener("mousedown",(function(t){t.target.classList.contains("popup_opened")&&e.close(),t.target.classList.contains("popup__btn-close")&&e.close()}))}}])&&b(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==g(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===g(o)?o:String(o)),n)}var o}function k(){return k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},k.apply(this,arguments)}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(n);if(o){var r=w(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e))._formElement=r._popup.querySelector(".popup__form"),r._formElementSubmitButton=r._formElement.querySelector(".popup__btn-save"),r._inputList=r._formElement.querySelectorAll(".popup__input"),r._handlerSubmitForm=t,r}return t=a,(r=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"getFormValues",value:function(){return this._getInputValues()}},{key:"getFormElement",value:function(){return this._formElement}},{key:"close",value:function(){this._formElement.reset(),k(w(a.prototype),"close",this).call(this)}},{key:"setEventListener",value:function(){var e=this;this._formElement.addEventListener("submit",(function(t){return e._handlerSubmitForm(t)})),k(w(a.prototype),"setEventListener",this).call(this)}},{key:"isLoadingMessage",value:function(e){this._formElementSubmitButton.textContent=!0===e?"Сохранение...":"Сохранить"}}])&&S(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(_);function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R(n.key),n)}}function P(){return P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=T(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},P.apply(this,arguments)}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}function U(e,t,r){return(t=R(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(e){var t=function(e,t){if("object"!==O(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===O(t)?t:String(t)}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=T(n);if(o){var r=T(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return I(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return U(I(e=i.call.apply(i,[this].concat(r))),"_popupImage",e._popup.querySelector(".popup__image")),U(I(e),"_popupName",e._popup.querySelector(".popup__description")),e}return t=a,(r=[{key:"open",value:function(e,t){this._popupImage.src=e,this._popupImage.alt=t,this._popupName.textContent=t,P(T(a.prototype),"open",this).call(this)}}])&&j(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(_);function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function B(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==q(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===q(o)?o:String(o)),n)}var o}function N(){return N="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=V(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},N.apply(this,arguments)}function D(e,t){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},D(e,t)}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=V(n);if(o){var r=V(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._formElement=t._popup.querySelector(".popup__form"),t}return t=a,(r=[{key:"setEventListener",value:function(){var e=this;this._formElement.addEventListener("submit",(function(t){return e._handlerSubmitForm(t)})),N(V(a.prototype),"setEventListener",this).call(this)}},{key:"changeHandlerSubmitForm",value:function(e){this._handlerSubmitForm=e}}])&&B(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(_);function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function M(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==F(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===F(o)?o:String(o)),n)}var o}var H=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._profileNameElement=document.querySelector(t.profileNameSelector),this._profileDescriptionElement=document.querySelector(t.profileAboutSelector),this._profileAvatarElement=document.querySelector(t.profileAvatarSelector)}var t,r;return t=e,(r=[{key:"getUserInfo",value:function(){return{userName:this._profileNameElement.textContent,userAbout:this._profileDescriptionElement.textContent}}},{key:"setUserInfo",value:function(e){var t=e.userName,r=e.userAbout;this._profileNameElement.textContent=t,this._profileDescriptionElement.textContent=r}},{key:"setUserAvatar",value:function(e){var t=e.userAvatarLink;this._profileAvatarElement.src=t}},{key:"saveUserId",value:function(e){this._userId=e}},{key:"getUserId",value:function(){return this._userId}}])&&M(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var z=new u({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-65",headers:{authorization:"a772ee3c-7f9f-4379-9fba-e4883f8faf6c","Content-Type":"application/json"}}),$=new H(e);z.getServerData().then((function(e){var t,r,n=(r=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,r)||function(e,t){if(e){if("string"==typeof e)return J(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?J(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],i=n[1];$.setUserInfo({userName:i.name,userAbout:i.about}),$.setUserAvatar({userAvatarLink:i.avatar}),G.renderItems(o),$.saveUserId(i._id)})).catch((function(e){console.error(e)}));var G=new d({renderer:function(e){var t=K(e,o);G.addOldItem(t)}},".elements__list");function K(e,t){var r=new s({data:e,cardTemplateSelector:t,userId:$.getUserId(),handleCardClick:function(){re.open(e.link,e.name)},handleLikeButton:function(){r.isLiked?z.deleteCardLike(r.getCardId()).then((function(e){r.unsetLike(),r.setLikesCounter(e.likes)})).catch((function(e){console.error(e)})):z.addCardLike(r.getCardId()).then((function(e){r.setLike(),r.setLikesCounter(e.likes)})).catch((function(e){console.error(e)}))},handleDeleteButton:function(e){var t=e.target.closest(".element"),n=r.getCardId();te.changeHandlerSubmitForm((function(e){e.preventDefault(),z.deleteCard(n).then((function(){t.remove(),te.close()})).catch((function(e){console.error(e)}))})),te.open()}});return r.generateCard()}var Q=new L(e.popupAddcardTemplateSelector,(function(e){e.preventDefault(),Q.isLoadingMessage(!0);var t=Q.getFormValues(),r={name:t.name,link:t.url};z.addNewCard(r).then((function(e){var t=K(e,o);G.addNewItem(t),Q.close()})).catch((function(e){console.error(e)})).finally((function(){Q.isLoadingMessage(!1)}))}));Q.setEventListener();var W=new y(e,Q.getFormElement());W.enableValidation(),n.addEventListener("click",(function(){W.resetValidation(),Q.open()}));var X=new L(e.popupUpdateAvatarSelector,(function(e){e.preventDefault(),X.isLoadingMessage(!0);var t=X.getFormValues();z.setProfileAvatar({avatar:t.url}).then((function(e){$.setUserAvatar({userAvatarLink:e.avatar}),X.close()})).catch((function(e){console.error(e)})).finally((function(){X.isLoadingMessage(!1)}))}));X.setEventListener();var Y=new y(e,X.getFormElement());Y.enableValidation(),document.querySelector(".profile__avatar-edit").addEventListener("click",(function(){Y.resetValidation(),X.open()}));var Z=new L(e.popupEditProfileSelector,(function(e){e.preventDefault(),Z.isLoadingMessage(!0);var t=Z.getFormValues();z.setUserInfo({name:t.title,about:t.subtitle}).then((function(e){$.setUserInfo({userName:e.name,userAbout:e.about}),Z.close()})).catch((function(e){console.error(e)})).finally((function(){Z.isLoadingMessage(!1)}))}));Z.setEventListener(),r.addEventListener("click",(function(){var e=$.getUserInfo(),t=Z.getFormElement();t.elements.name.value=e.userName,t.elements.description.value=e.userAbout,ee.resetValidation(),Z.open()}));var ee=new y(e,Z.getFormElement());ee.enableValidation();var te=new x(e.popupConfirmSelector);te.setEventListener();var re=new A(e.popupViewerSelector);re.setEventListener()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBV2lCLFdBQ3ZEaE0sTUFBSyxTQUFDVyxHQUNIZ0ksRUFBU00sWUFBWSxDQUNqQmIsU0FBVXpILEVBQUtZLEtBQ2Y4RyxVQUFXMUgsRUFBS3VJLFFBRXBCNEMsRUFBaUJoRyxPQUNyQixJQUNDMEQsT0FBTSxTQUFDQyxHQUNKQyxRQUFRQyxNQUFNRixFQUNsQixJQUNDNEIsU0FBUSxXQUNMUyxFQUFpQmhCLGtCQUFpQixFQUN0QyxHQUNSLElBRUpnQixFQUFpQlIsbUJBRWpCN00sRUFBa0IyRCxpQkFBaUIsU0FBUyxXQUN4QyxJQUFNNkosRUFBZXRELEVBQVN2SSxjQUN4QjhMLEVBQWNKLEVBQWlCTixpQkFDckNVLEVBQVlDLFNBQVM1SyxLQUFLbEMsTUFBUTRNLEVBQWE3RCxTQUMvQzhELEVBQVlDLFNBQVNDLFlBQVkvTSxNQUFRNE0sRUFBYTVELFVBQ3REZ0UsR0FBMEJYLGtCQUMxQkksRUFBaUI1QixNQUNyQixJQUVBLElBQU1tQyxHQUE0QixJQUFJM0ksRUFDbENsRyxFQUNBc08sRUFBaUJOLGtCQUVyQmEsR0FBMEJaLG1CQUcxQixJQUFNakIsR0FBZSxJQUFJMUMsRUFBaUJ0SyxFQUFVWSxzQkFDcERvTSxHQUFhYyxtQkFHYixJQUFNckIsR0FBYyxJQUFJL0MsRUFBZTFKLEVBQVVXLHFCQUNqRDhMLEdBQVlxQixrQiIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RvLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBzZWxlY3RvcnMgPSB7XHJcbiAgICBpbnB1dFNlbGVjdG9yOiBcInBvcHVwX19pbnB1dFwiLFxyXG4gICAgYnV0dG9uU3VibWl0Q2xhc3M6IFwicG9wdXBfX2J0bi1zYXZlXCIsXHJcbiAgICBkaXNhYmxlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX2J0bi1zYXZlX2Rpc2FibGVkXCIsXHJcbiAgICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICAgIGFjdGl2ZUVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0LWVycm9yX3Zpc2libGVcIixcclxuICAgIHByb2ZpbGVBdmF0YXJTZWxlY3RvcjogXCIucHJvZmlsZV9fYXZhdGFyXCIsXHJcbiAgICBwcm9maWxlQWJvdXRTZWxlY3RvcjogXCIucHJvZmlsZV9fYWJvdXRcIixcclxuICAgIHByb2ZpbGVOYW1lU2VsZWN0b3I6IFwiLnByb2ZpbGVfX25hbWVcIixcclxuICAgIHBvcHVwRWRpdFByb2ZpbGVTZWxlY3RvcjogXCIucG9wdXBfZm9ybV9lZGl0XCIsXHJcbiAgICBwb3B1cEFkZGNhcmRUZW1wbGF0ZVNlbGVjdG9yOiBcIi5wb3B1cF9mb3JtX2FkZFwiLFxyXG4gICAgcG9wdXBWaWV3ZXJTZWxlY3RvcjogXCIucG9wdXBfdmlld2VyXCIsXHJcbiAgICBwb3B1cENvbmZpcm1TZWxlY3RvcjogXCIucG9wdXBfZm9ybV9jb25maXJtXCIsXHJcbiAgICBwb3B1cFVwZGF0ZUF2YXRhclNlbGVjdG9yOiBcIi5wb3B1cF9mb3JtX2F2YXRhclwiLFxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVBdmF0YXJFZGl0QnV0dG9uID0gXCIucHJvZmlsZV9fYXZhdGFyLWVkaXRcIjtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlXCIpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUVkaXRCdXR0b24gPVxyXG4gICAgcHJvZmlsZUVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19idG4tZWRpdFwiKTtcclxuZXhwb3J0IGNvbnN0IGFkZENhcmRCdXR0b24gPSBwcm9maWxlRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2J0bi1hZGRcIik7XHJcbmV4cG9ydCBjb25zdCBjYXJkc0NvbnRhaW5lclNlbGVjdG9yID0gXCIuZWxlbWVudHNfX2xpc3RcIjtcclxuZXhwb3J0IGNvbnN0IGNhcmRUZW1wbGF0ZVNlbGVjdG9yID0gXCIjY2FyZC10ZW1wbGF0ZVwiO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gICAgY29uc3RydWN0b3IoeyBoZWFkZXJzLCBiYXNlVXJsIH0pIHtcclxuICAgICAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcclxuICAgICAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcclxuICAgIH1cclxuXHJcbiAgICBfY2hlY2tSZXNwb25zZShyZXMpIHtcclxuICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgJHtyZXMuc3RhdHVzfSAke3Jlcy5zdGF0dXNUZXh0fWApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRVc2VySW5mbygpIHtcclxuICAgICAgICBjb25zdCByZXF1ZXN0VXJsID0gdGhpcy5fYmFzZVVybCArIFwiL3VzZXJzL21lXCI7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKHJlcXVlc3RVcmwsIHtcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgICAgICBjb25zdCByZXF1ZXN0VXJsID0gdGhpcy5fYmFzZVVybCArIFwiL2NhcmRzXCI7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKHJlcXVlc3RVcmwsIHtcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFNlcnZlckRhdGEoKSB7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFt0aGlzLmdldEluaXRpYWxDYXJkcygpLCB0aGlzLmdldFVzZXJJbmZvKCldKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRVc2VySW5mbyhib2R5KSB7XHJcbiAgICAgICAgY29uc3QgcmVxdWVzdFVybCA9IHRoaXMuX2Jhc2VVcmwgKyBcIi91c2Vycy9tZVwiO1xyXG4gICAgICAgIHJldHVybiBmZXRjaChyZXF1ZXN0VXJsLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcclxuICAgICAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZE5ld0NhcmQoYm9keSkge1xyXG4gICAgICAgIGNvbnN0IHJlcXVlc3RVcmwgPSB0aGlzLl9iYXNlVXJsICsgXCIvY2FyZHNcIjtcclxuICAgICAgICByZXR1cm4gZmV0Y2gocmVxdWVzdFVybCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcclxuICAgICAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZUNhcmQoY2FyZElkKSB7XHJcbiAgICAgICAgY29uc3QgcmVxdWVzdFVybCA9IHRoaXMuX2Jhc2VVcmwgKyBgL2NhcmRzLyR7Y2FyZElkfWA7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKHJlcXVlc3RVcmwsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkQ2FyZExpa2UoY2FyZElkKSB7XHJcbiAgICAgICAgY29uc3QgcmVxdWVzdFVybCA9IHRoaXMuX2Jhc2VVcmwgKyBgL2NhcmRzL2xpa2VzLyR7Y2FyZElkfWA7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKHJlcXVlc3RVcmwsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVsZXRlQ2FyZExpa2UoY2FyZElkKSB7XHJcbiAgICAgICAgY29uc3QgcmVxdWVzdFVybCA9IHRoaXMuX2Jhc2VVcmwgKyBgL2NhcmRzL2xpa2VzLyR7Y2FyZElkfWA7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKHJlcXVlc3RVcmwsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0UHJvZmlsZUF2YXRhcihib2R5KSB7XHJcbiAgICAgICAgY29uc3QgcmVxdWVzdFVybCA9IHRoaXMuX2Jhc2VVcmwgKyBgL3VzZXJzL21lL2F2YXRhcmA7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKHJlcXVlc3RVcmwsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxyXG4gICAgICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7XHJcbiAgICAgICAgZGF0YSxcclxuICAgICAgICB1c2VySWQsXHJcbiAgICAgICAgY2FyZFRlbXBsYXRlU2VsZWN0b3IsXHJcbiAgICAgICAgaGFuZGxlQ2FyZENsaWNrLFxyXG4gICAgICAgIGhhbmRsZUxpa2VCdXR0b24sXHJcbiAgICAgICAgaGFuZGxlRGVsZXRlQnV0dG9uLFxyXG4gICAgfSkge1xyXG4gICAgICAgIHRoaXMuX2N1cnJlbnRVc2VySWQgPSB1c2VySWQ7XHJcbiAgICAgICAgdGhpcy5fZGF0YU93bmVySWQgPSBkYXRhLm93bmVyLl9pZDtcclxuICAgICAgICB0aGlzLl9pbWFnZUxpbmsgPSBkYXRhLmxpbms7XHJcbiAgICAgICAgdGhpcy5faW1hZ2VOYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xyXG4gICAgICAgIHRoaXMuX2NhcmRJZCA9IGRhdGEuX2lkO1xyXG4gICAgICAgIHRoaXMuX2NhcmRUZW1wbGF0ZVNlbGVjdG9yID0gY2FyZFRlbXBsYXRlU2VsZWN0b3I7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUxpa2VCdXR0b24gPSBoYW5kbGVMaWtlQnV0dG9uO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUJ1dHRvbiA9IGhhbmRsZURlbGV0ZUJ1dHRvbjtcclxuICAgIH1cclxuXHJcbiAgICBfZ2V0VGVtcGxhdGVFbGVtZW50KCkge1xyXG4gICAgICAgIHJldHVybiBkb2N1bWVudFxyXG4gICAgICAgICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkVGVtcGxhdGVTZWxlY3RvcilcclxuICAgICAgICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50XCIpXHJcbiAgICAgICAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9jdXJyZW50VXNlcklkID09PSB0aGlzLl9kYXRhT3duZXJJZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9jYXJkRWxlbWVudFxyXG4gICAgICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fYnRuLXRyYXNoXCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVEZWxldGVCdXR0b24oZXZ0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PlxyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVMaWtlQnV0dG9uKGV2dClcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuX2NhcmRzRWxlbWVudEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PlxyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2soKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGVFbGVtZW50KCk7XHJcbiAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbiA9XHJcbiAgICAgICAgICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fYnRuLWxpa2VcIik7XHJcbiAgICAgICAgdGhpcy5fY291bnRMaWtlRWxlbWVudCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgICAgIFwiLmVsZW1lbnRfX2xpa2UtY291bnRcIlxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5fY2FyZHNFbGVtZW50SW1hZ2UgPVxyXG4gICAgICAgICAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2ltYWdlXCIpO1xyXG4gICAgICAgIGlmICh0aGlzLl9jdXJyZW50VXNlcklkICE9PSB0aGlzLl9kYXRhT3duZXJJZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2J0bi10cmFzaFwiKS5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX2NhcmRzRWxlbWVudEltYWdlLnNyYyA9IHRoaXMuX2ltYWdlTGluaztcclxuICAgICAgICB0aGlzLl9jYXJkc0VsZW1lbnRJbWFnZS5hbHQgPSB0aGlzLl9pbWFnZU5hbWU7XHJcblxyXG4gICAgICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fY2FwdGlvblwiKS50ZXh0Q29udGVudCA9XHJcbiAgICAgICAgICAgIHRoaXMuX25hbWU7XHJcbiAgICAgICAgdGhpcy5fY291bnRMaWtlRWxlbWVudC50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlTGlrZVN0YXRlKCk7XHJcbiAgICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIF90b2dnbGVMaWtlU3RhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2NoZWNrVXNlckxpa2UoKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldExpa2UoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnVuc2V0TGlrZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXRMaWtlKCkge1xyXG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImVsZW1lbnRfX2J0bi1saWtlX2FjdGl2ZVwiKTtcclxuICAgICAgICB0aGlzLmlzTGlrZWQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHVuc2V0TGlrZSgpIHtcclxuICAgICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJlbGVtZW50X19idG4tbGlrZV9hY3RpdmVcIik7XHJcbiAgICAgICAgdGhpcy5pc0xpa2VkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0TGlrZXNDb3VudGVyKGRhdGEpIHtcclxuICAgICAgICB0aGlzLl9jb3VudExpa2VFbGVtZW50LnRleHRDb250ZW50ID0gZGF0YS5sZW5ndGg7XHJcbiAgICAgICAgaWYgKHRoaXMuX2NoZWNrVXNlckxpa2UoKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldExpa2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgX2NoZWNrVXNlckxpa2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpa2VzLnNvbWUoKGl0ZW0pID0+IGl0ZW0uX2lkID09PSB0aGlzLl9jdXJyZW50VXNlcklkKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDYXJkSWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhcmRJZDtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKHNlbGVjdG9ycywgZm9ybUVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLl9zZWxlY3RvcnMgPSBzZWxlY3RvcnM7XHJcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICAgICAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKFxyXG4gICAgICAgICAgICB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gICAgICAgICAgICAgICAgYC4ke3RoaXMuX3NlbGVjdG9ycy5pbnB1dFNlbGVjdG9yfWBcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgICAgIGAuJHt0aGlzLl9zZWxlY3RvcnMuYnV0dG9uU3VibWl0Q2xhc3N9YFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG5cclxuICAgIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xyXG4gICAgICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3NlbGVjdG9ycy5hY3RpdmVFcnJvckNsYXNzKTtcclxuICAgICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9zZWxlY3RvcnMuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIH1cclxuXHJcbiAgICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICAgICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcbiAgICAgICAgKTtcclxuICAgICAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZWxlY3RvcnMuYWN0aXZlRXJyb3JDbGFzcyk7XHJcbiAgICAgICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZWxlY3RvcnMuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIH1cclxuXHJcbiAgICByZXNldFZhbGlkYXRpb24oKSB7XHJcbiAgICAgICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG5cclxuICAgICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCh0aGlzLl9pbnB1dExpc3QpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZChcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdG9ycy5kaXNhYmxlQnV0dG9uQ2xhc3NcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0b3JzLmRpc2FibGVCdXR0b25DbGFzc1xyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9oYXNJbnZhbGlkSW5wdXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKGZ1bmN0aW9uIChpbnB1dEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgICAgICB0aGlzLl9jb250YWluZXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVySXRlbXMoaXRlbXMpIHtcclxuICAgICAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZE5ld0l0ZW0oaXRlbSkge1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lckVsZW1lbnQucHJlcGVuZChpdGVtKTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRPbGRJdGVtKGl0ZW0pIHtcclxuICAgICAgICB0aGlzLl9jb250YWluZXJFbGVtZW50LmFwcGVuZChpdGVtKTtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX29wZW5lZCcpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xyXG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXIoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfb3BlbmVkJykpIHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fYnRuLWNsb3NlJykpIHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVyU3VibWl0Rm9ybSkge1xyXG4gICAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcclxuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudFN1Ym1pdEJ1dHRvbiA9XHJcbiAgICAgICAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2J0bi1zYXZlXCIpO1xyXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2lucHV0XCIpO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZXJTdWJtaXRGb3JtID0gaGFuZGxlclN1Ym1pdEZvcm07XHJcbiAgICB9XHJcblxyXG4gICAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgICAgIHRoaXMuX2Zvcm1WYWx1ZXMgPSB7fTtcclxuXHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZm9ybVZhbHVlcztcclxuICAgIH1cclxuXHJcbiAgICBnZXRGb3JtVmFsdWVzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRJbnB1dFZhbHVlcygpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEZvcm1FbGVtZW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9mb3JtRWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZSgpIHtcclxuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudC5yZXNldCgpO1xyXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcigpIHtcclxuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZXJTdWJtaXRGb3JtKGV2dClcclxuICAgICAgICApO1xyXG4gICAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBpc0xvYWRpbmdNZXNzYWdlKGlzTG9hZGluZykge1xyXG4gICAgICAgIGlmIChpc0xvYWRpbmcgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnRTdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcItCh0L7RhdGA0LDQvdC10L3QuNC1Li4uXCI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnRTdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcItCh0L7RhdGA0LDQvdC40YLRjFwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBfcG9wdXBJbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UnKTtcclxuICBfcG9wdXBOYW1lID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19kZXNjcmlwdGlvbicpO1xyXG5cclxuICBvcGVuKGltYWdlTGluaywgaW1hZ2VOYW1lKSB7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlLnNyYyA9IGltYWdlTGluaztcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2UuYWx0ID0gaW1hZ2VOYW1lO1xyXG4gICAgdGhpcy5fcG9wdXBOYW1lLnRleHRDb250ZW50ID0gaW1hZ2VOYW1lO1xyXG5cclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJyk7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVyKCkge1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4gdGhpcy5faGFuZGxlclN1Ym1pdEZvcm0oZXZ0KSk7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVyKCk7XHJcbiAgfVxyXG5cclxuICBjaGFuZ2VIYW5kbGVyU3VibWl0Rm9ybShzdWJtaXRBY3Rpb24pIHtcclxuICAgIHRoaXMuX2hhbmRsZXJTdWJtaXRGb3JtID0gc3VibWl0QWN0aW9uO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgICBjb25zdHJ1Y3RvcihzZWxlY3RvcnMpIHtcclxuICAgICAgICB0aGlzLl9wcm9maWxlTmFtZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgICAgICBzZWxlY3RvcnMucHJvZmlsZU5hbWVTZWxlY3RvclxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5fcHJvZmlsZURlc2NyaXB0aW9uRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgICAgIHNlbGVjdG9ycy5wcm9maWxlQWJvdXRTZWxlY3RvclxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5fcHJvZmlsZUF2YXRhckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgICAgICBzZWxlY3RvcnMucHJvZmlsZUF2YXRhclNlbGVjdG9yXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRVc2VySW5mbygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB1c2VyTmFtZTogdGhpcy5fcHJvZmlsZU5hbWVFbGVtZW50LnRleHRDb250ZW50LFxyXG4gICAgICAgICAgICB1c2VyQWJvdXQ6IHRoaXMuX3Byb2ZpbGVEZXNjcmlwdGlvbkVsZW1lbnQudGV4dENvbnRlbnQsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRVc2VySW5mbyh7IHVzZXJOYW1lLCB1c2VyQWJvdXQgfSkge1xyXG4gICAgICAgIHRoaXMuX3Byb2ZpbGVOYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IHVzZXJOYW1lO1xyXG4gICAgICAgIHRoaXMuX3Byb2ZpbGVEZXNjcmlwdGlvbkVsZW1lbnQudGV4dENvbnRlbnQgPSB1c2VyQWJvdXQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXNlckF2YXRhcih7IHVzZXJBdmF0YXJMaW5rIH0pIHtcclxuICAgICAgICB0aGlzLl9wcm9maWxlQXZhdGFyRWxlbWVudC5zcmMgPSB1c2VyQXZhdGFyTGluaztcclxuICAgIH1cclxuXHJcbiAgICBzYXZlVXNlcklkKHVzZXJJZCkge1xyXG4gICAgICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRVc2VySWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VzZXJJZDtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5pbXBvcnQge1xyXG4gICAgc2VsZWN0b3JzLFxyXG4gICAgcHJvZmlsZUF2YXRhckVkaXRCdXR0b24sXHJcbiAgICBwcm9maWxlRWRpdEJ1dHRvbixcclxuICAgIGFkZENhcmRCdXR0b24sXHJcbiAgICBjYXJkc0NvbnRhaW5lclNlbGVjdG9yLFxyXG4gICAgY2FyZFRlbXBsYXRlU2VsZWN0b3IsXHJcbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xyXG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoQ29uZmlybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5cclxuLyrRgdC+0LfQtNCw0L3QuNC1IGFwaSovXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gICAgYmFzZVVybDogXCJodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTY1XCIsXHJcbiAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogXCJhNzcyZWUzYy03ZjlmLTQzNzktOWZiYS1lNDg4M2Y4ZmFmNmNcIixcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgIH0sXHJcbn0pO1xyXG5cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oc2VsZWN0b3JzKTtcclxuXHJcbi8q0L/QvtC70YPRh9C10L3QuNC1INC00LDQvdC90YvRhSDRgSDRgdC10YDQstC10YDQsCovXHJcbmFwaS5nZXRTZXJ2ZXJEYXRhKClcclxuICAgIC50aGVuKChyZXNwb25zZXMpID0+IHtcclxuICAgICAgICBjb25zdCBbY2FyZERhdGEsIHVzZXJEYXRhXSA9IHJlc3BvbnNlcztcclxuICAgICAgICB1c2VySW5mby5zZXRVc2VySW5mbyh7XHJcbiAgICAgICAgICAgIHVzZXJOYW1lOiB1c2VyRGF0YS5uYW1lLFxyXG4gICAgICAgICAgICB1c2VyQWJvdXQ6IHVzZXJEYXRhLmFib3V0LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHVzZXJJbmZvLnNldFVzZXJBdmF0YXIoeyB1c2VyQXZhdGFyTGluazogdXNlckRhdGEuYXZhdGFyIH0pO1xyXG4gICAgICAgIGNhcmRzLnJlbmRlckl0ZW1zKGNhcmREYXRhKTtcclxuICAgICAgICB1c2VySW5mby5zYXZlVXNlcklkKHVzZXJEYXRhLl9pZCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICB9KTtcclxuXHJcbi8q0YHQvtC30LTQsNC90LjQtSDRgdC10LrRhtC40Lgg0LTQu9GPINC60LDRgNGC0L7Rh9C60LgqL1xyXG5jb25zdCBjYXJkcyA9IG5ldyBTZWN0aW9uKFxyXG4gICAge1xyXG4gICAgICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZU5ld0NhcmQoaXRlbSwgY2FyZFRlbXBsYXRlU2VsZWN0b3IpO1xyXG4gICAgICAgICAgICBjYXJkcy5hZGRPbGRJdGVtKGNhcmRFbGVtZW50KTtcclxuICAgICAgICB9LFxyXG4gICAgfSxcclxuICAgIGNhcmRzQ29udGFpbmVyU2VsZWN0b3JcclxuKTtcclxuXHJcbi8q0YHQvtC30LTQsNC90LjQtSDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60LgqL1xyXG5mdW5jdGlvbiBjcmVhdGVOZXdDYXJkKGl0ZW0sIGNhcmRUZW1wbGF0ZVNlbGVjdG9yKSB7XHJcbiAgICBjb25zdCBjYXJkID0gbmV3IENhcmQoe1xyXG4gICAgICAgIGRhdGE6IGl0ZW0sXHJcbiAgICAgICAgY2FyZFRlbXBsYXRlU2VsZWN0b3IsXHJcbiAgICAgICAgdXNlcklkOiB1c2VySW5mby5nZXRVc2VySWQoKSxcclxuICAgICAgICBoYW5kbGVDYXJkQ2xpY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgcG9wdXBWaWV3ZXIub3BlbihpdGVtLmxpbmssIGl0ZW0ubmFtZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBoYW5kbGVMaWtlQnV0dG9uOiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChjYXJkLmlzTGlrZWQpIHtcclxuICAgICAgICAgICAgICAgIGFwaS5kZWxldGVDYXJkTGlrZShjYXJkLmdldENhcmRJZCgpKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmQudW5zZXRMaWtlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmQuc2V0TGlrZXNDb3VudGVyKGRhdGEubGlrZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXBpLmFkZENhcmRMaWtlKGNhcmQuZ2V0Q2FyZElkKCkpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZC5zZXRMaWtlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmQuc2V0TGlrZXNDb3VudGVyKGRhdGEubGlrZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBoYW5kbGVEZWxldGVCdXR0b246IChldnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBldnQudGFyZ2V0LmNsb3Nlc3QoXCIuZWxlbWVudFwiKTtcclxuICAgICAgICAgICAgY29uc3QgY2FyZElkID0gY2FyZC5nZXRDYXJkSWQoKTtcclxuICAgICAgICAgICAgcG9wdXBDb25maXJtLmNoYW5nZUhhbmRsZXJTdWJtaXRGb3JtKChldnQpID0+IHtcclxuICAgICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgYXBpLmRlbGV0ZUNhcmQoY2FyZElkKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZEVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwQ29uZmlybS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcG9wdXBDb25maXJtLm9wZW4oKTtcclxuICAgICAgICB9LFxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcclxufVxyXG5cclxuLyrQv9C+0L/QsNC/INC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LgqL1xyXG5jb25zdCBwb3B1cEFkZENhcmQgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICAgIHNlbGVjdG9ycy5wb3B1cEFkZGNhcmRUZW1wbGF0ZVNlbGVjdG9yLFxyXG4gICAgKGV2dCkgPT4ge1xyXG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHBvcHVwQWRkQ2FyZC5pc0xvYWRpbmdNZXNzYWdlKHRydWUpO1xyXG4gICAgICAgIGNvbnN0IGZvcm1WYWx1ZXMgPSBwb3B1cEFkZENhcmQuZ2V0Rm9ybVZhbHVlcygpO1xyXG4gICAgICAgIGNvbnN0IGl0ZW0gPSB7IG5hbWU6IGZvcm1WYWx1ZXMubmFtZSwgbGluazogZm9ybVZhbHVlcy51cmwgfTtcclxuICAgICAgICBhcGkuYWRkTmV3Q2FyZChpdGVtKVxyXG4gICAgICAgICAgICAudGhlbigobmV3Q2FyZEl0ZW0pID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY3JlYXRlTmV3Q2FyZChcclxuICAgICAgICAgICAgICAgICAgICBuZXdDYXJkSXRlbSxcclxuICAgICAgICAgICAgICAgICAgICBjYXJkVGVtcGxhdGVTZWxlY3RvclxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIGNhcmRzLmFkZE5ld0l0ZW0oY2FyZEVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgcG9wdXBBZGRDYXJkLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHBvcHVwQWRkQ2FyZC5pc0xvYWRpbmdNZXNzYWdlKGZhbHNlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcbik7XHJcbnBvcHVwQWRkQ2FyZC5zZXRFdmVudExpc3RlbmVyKCk7XHJcblxyXG5jb25zdCBwb3B1cEFkZENhcmRWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcclxuICAgIHNlbGVjdG9ycyxcclxuICAgIHBvcHVwQWRkQ2FyZC5nZXRGb3JtRWxlbWVudCgpXHJcbik7XHJcbnBvcHVwQWRkQ2FyZFZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5hZGRDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBwb3B1cEFkZENhcmRWYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgICBwb3B1cEFkZENhcmQub3BlbigpO1xyXG59KTtcclxuXHJcbi8q0L/QvtC/0LDQvyDRgdC80LXQvdGLINCw0LLQsNGC0LDRgNCwKi9cclxuY29uc3QgcG9wdXBVcGRhdGVBdmF0YXIgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICAgIHNlbGVjdG9ycy5wb3B1cFVwZGF0ZUF2YXRhclNlbGVjdG9yLFxyXG4gICAgKGV2dCkgPT4ge1xyXG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHBvcHVwVXBkYXRlQXZhdGFyLmlzTG9hZGluZ01lc3NhZ2UodHJ1ZSk7XHJcbiAgICAgICAgY29uc3QgZm9ybVZhbHVlcyA9IHBvcHVwVXBkYXRlQXZhdGFyLmdldEZvcm1WYWx1ZXMoKTtcclxuICAgICAgICBhcGkuc2V0UHJvZmlsZUF2YXRhcih7IGF2YXRhcjogZm9ybVZhbHVlcy51cmwgfSlcclxuICAgICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgIHVzZXJJbmZvLnNldFVzZXJBdmF0YXIoeyB1c2VyQXZhdGFyTGluazogZGF0YS5hdmF0YXIgfSk7XHJcbiAgICAgICAgICAgICAgICBwb3B1cFVwZGF0ZUF2YXRhci5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBwb3B1cFVwZGF0ZUF2YXRhci5pc0xvYWRpbmdNZXNzYWdlKGZhbHNlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcbik7XHJcbnBvcHVwVXBkYXRlQXZhdGFyLnNldEV2ZW50TGlzdGVuZXIoKTtcclxuXHJcbmNvbnN0IHBvcHVwVXBkYXRlQXZhdGFyVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXHJcbiAgICBzZWxlY3RvcnMsXHJcbiAgICBwb3B1cFVwZGF0ZUF2YXRhci5nZXRGb3JtRWxlbWVudCgpXHJcbik7XHJcbnBvcHVwVXBkYXRlQXZhdGFyVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmRvY3VtZW50XHJcbiAgICAucXVlcnlTZWxlY3Rvcihwcm9maWxlQXZhdGFyRWRpdEJ1dHRvbilcclxuICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIHBvcHVwVXBkYXRlQXZhdGFyVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xyXG4gICAgICAgIHBvcHVwVXBkYXRlQXZhdGFyLm9wZW4oKTtcclxuICAgIH0pO1xyXG5cclxuLyrQv9C+0L/QsNC/INGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0L/RgNC+0YTQuNC70Y8qL1xyXG5jb25zdCBwb3B1cEVkaXRQcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgICBzZWxlY3RvcnMucG9wdXBFZGl0UHJvZmlsZVNlbGVjdG9yLFxyXG4gICAgKGV2dCkgPT4ge1xyXG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHBvcHVwRWRpdFByb2ZpbGUuaXNMb2FkaW5nTWVzc2FnZSh0cnVlKTtcclxuICAgICAgICBjb25zdCBmb3JtVmFsdWVzID0gcG9wdXBFZGl0UHJvZmlsZS5nZXRGb3JtVmFsdWVzKCk7XHJcbiAgICAgICAgYXBpLnNldFVzZXJJbmZvKHsgbmFtZTogZm9ybVZhbHVlcy50aXRsZSwgYWJvdXQ6IGZvcm1WYWx1ZXMuc3VidGl0bGUgfSlcclxuICAgICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHtcclxuICAgICAgICAgICAgICAgICAgICB1c2VyTmFtZTogZGF0YS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJBYm91dDogZGF0YS5hYm91dCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcG9wdXBFZGl0UHJvZmlsZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBwb3B1cEVkaXRQcm9maWxlLmlzTG9hZGluZ01lc3NhZ2UoZmFsc2UpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuKTtcclxucG9wdXBFZGl0UHJvZmlsZS5zZXRFdmVudExpc3RlbmVyKCk7XHJcblxyXG5wcm9maWxlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgY29uc3QgdXNlckluZm9EYXRhID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcclxuICAgIGNvbnN0IHByb2ZpbGVGb3JtID0gcG9wdXBFZGl0UHJvZmlsZS5nZXRGb3JtRWxlbWVudCgpO1xyXG4gICAgcHJvZmlsZUZvcm0uZWxlbWVudHMubmFtZS52YWx1ZSA9IHVzZXJJbmZvRGF0YS51c2VyTmFtZTtcclxuICAgIHByb2ZpbGVGb3JtLmVsZW1lbnRzLmRlc2NyaXB0aW9uLnZhbHVlID0gdXNlckluZm9EYXRhLnVzZXJBYm91dDtcclxuICAgIHBvcHVwRWRpdFByb2ZpbGVWYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgICBwb3B1cEVkaXRQcm9maWxlLm9wZW4oKTtcclxufSk7XHJcblxyXG5jb25zdCBwb3B1cEVkaXRQcm9maWxlVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXHJcbiAgICBzZWxlY3RvcnMsXHJcbiAgICBwb3B1cEVkaXRQcm9maWxlLmdldEZvcm1FbGVtZW50KClcclxuKTtcclxucG9wdXBFZGl0UHJvZmlsZVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG4vKtC/0L7Qv9Cw0L8g0L/QvtC00YLQstC10YDQttC00LXQvdC40Y8g0YPQtNCw0LvQtdC90LjRjyovXHJcbmNvbnN0IHBvcHVwQ29uZmlybSA9IG5ldyBQb3B1cFdpdGhDb25maXJtKHNlbGVjdG9ycy5wb3B1cENvbmZpcm1TZWxlY3Rvcik7XHJcbnBvcHVwQ29uZmlybS5zZXRFdmVudExpc3RlbmVyKCk7XHJcblxyXG4vKtC/0L7Qv9Cw0L8g0L/RgNC+0YHQvNC+0YLRgNCwINC40LfQvtCx0YDQsNC20LXQvdC40Y8qL1xyXG5jb25zdCBwb3B1cFZpZXdlciA9IG5ldyBQb3B1cFdpdGhJbWFnZShzZWxlY3RvcnMucG9wdXBWaWV3ZXJTZWxlY3Rvcik7XHJcbnBvcHVwVmlld2VyLnNldEV2ZW50TGlzdGVuZXIoKTtcclxuIl0sIm5hbWVzIjpbInNlbGVjdG9ycyIsImlucHV0U2VsZWN0b3IiLCJidXR0b25TdWJtaXRDbGFzcyIsImRpc2FibGVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImFjdGl2ZUVycm9yQ2xhc3MiLCJwcm9maWxlQXZhdGFyU2VsZWN0b3IiLCJwcm9maWxlQWJvdXRTZWxlY3RvciIsInByb2ZpbGVOYW1lU2VsZWN0b3IiLCJwb3B1cEVkaXRQcm9maWxlU2VsZWN0b3IiLCJwb3B1cEFkZGNhcmRUZW1wbGF0ZVNlbGVjdG9yIiwicG9wdXBWaWV3ZXJTZWxlY3RvciIsInBvcHVwQ29uZmlybVNlbGVjdG9yIiwicG9wdXBVcGRhdGVBdmF0YXJTZWxlY3RvciIsInByb2ZpbGVFbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicHJvZmlsZUVkaXRCdXR0b24iLCJhZGRDYXJkQnV0dG9uIiwiY2FyZFRlbXBsYXRlU2VsZWN0b3IiLCJBcGkiLCJfcmVmIiwiaGVhZGVycyIsImJhc2VVcmwiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiX2hlYWRlcnMiLCJfYmFzZVVybCIsImtleSIsInZhbHVlIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsImNvbmNhdCIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJyZXF1ZXN0VXJsIiwiZmV0Y2giLCJ0aGVuIiwiX2NoZWNrUmVzcG9uc2UiLCJhbGwiLCJnZXRJbml0aWFsQ2FyZHMiLCJnZXRVc2VySW5mbyIsImJvZHkiLCJtZXRob2QiLCJKU09OIiwic3RyaW5naWZ5IiwiY2FyZElkIiwiQ2FyZCIsImRhdGEiLCJ1c2VySWQiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVMaWtlQnV0dG9uIiwiaGFuZGxlRGVsZXRlQnV0dG9uIiwiX2N1cnJlbnRVc2VySWQiLCJfZGF0YU93bmVySWQiLCJvd25lciIsIl9pZCIsIl9pbWFnZUxpbmsiLCJsaW5rIiwiX2ltYWdlTmFtZSIsIm5hbWUiLCJfbmFtZSIsIl9saWtlcyIsImxpa2VzIiwiX2NhcmRJZCIsIl9jYXJkVGVtcGxhdGVTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlTGlrZUJ1dHRvbiIsIl9oYW5kbGVEZWxldGVCdXR0b24iLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX3RoaXMiLCJfY2FyZEVsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZ0IiwiX2xpa2VCdXR0b24iLCJfY2FyZHNFbGVtZW50SW1hZ2UiLCJfZ2V0VGVtcGxhdGVFbGVtZW50IiwiX2NvdW50TGlrZUVsZW1lbnQiLCJyZW1vdmUiLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsImxlbmd0aCIsIl90b2dnbGVMaWtlU3RhdGUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfY2hlY2tVc2VyTGlrZSIsInNldExpa2UiLCJ1bnNldExpa2UiLCJjbGFzc0xpc3QiLCJhZGQiLCJpc0xpa2VkIiwiX3RoaXMyIiwic29tZSIsIml0ZW0iLCJGb3JtVmFsaWRhdG9yIiwiZm9ybUVsZW1lbnQiLCJfc2VsZWN0b3JzIiwiX2Zvcm1FbGVtZW50IiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfYnV0dG9uRWxlbWVudCIsInRvZ2dsZUJ1dHRvblN0YXRlIiwiZm9yRWFjaCIsImlucHV0RWxlbWVudCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwiZXJyb3JFbGVtZW50IiwiaWQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJkaXNhYmxlZCIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lckVsZW1lbnQiLCJpdGVtcyIsInByZXBlbmQiLCJhcHBlbmQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNsb3NlIiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhGb3JtIiwiX1BvcHVwIiwiX2luaGVyaXRzIiwiX3N1cGVyIiwiaGFuZGxlclN1Ym1pdEZvcm0iLCJjYWxsIiwiX2Zvcm1FbGVtZW50U3VibWl0QnV0dG9uIiwiX2hhbmRsZXJTdWJtaXRGb3JtIiwiX2Zvcm1WYWx1ZXMiLCJpbnB1dCIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiX2dldCIsIl9nZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsIl90aGlzMyIsImlzTG9hZGluZyIsIlBvcHVwV2l0aEltYWdlIiwiX2xlbiIsImFyZ3VtZW50cyIsImFyZ3MiLCJfa2V5IiwiX2RlZmluZVByb3BlcnR5IiwiX2Fzc2VydFRoaXNJbml0aWFsaXplZCIsImFwcGx5IiwiaW1hZ2VMaW5rIiwiaW1hZ2VOYW1lIiwiX3BvcHVwSW1hZ2UiLCJfcG9wdXBOYW1lIiwiUG9wdXBXaXRoQ29uZmlybSIsInN1Ym1pdEFjdGlvbiIsIlVzZXJJbmZvIiwiX3Byb2ZpbGVOYW1lRWxlbWVudCIsIl9wcm9maWxlRGVzY3JpcHRpb25FbGVtZW50IiwiX3Byb2ZpbGVBdmF0YXJFbGVtZW50IiwidXNlck5hbWUiLCJ1c2VyQWJvdXQiLCJfcmVmMiIsInVzZXJBdmF0YXJMaW5rIiwiX3VzZXJJZCIsImFwaSIsImF1dGhvcml6YXRpb24iLCJ1c2VySW5mbyIsImdldFNlcnZlckRhdGEiLCJyZXNwb25zZXMiLCJfcmVzcG9uc2VzIiwiY2FyZERhdGEiLCJ1c2VyRGF0YSIsInNldFVzZXJJbmZvIiwiYWJvdXQiLCJzZXRVc2VyQXZhdGFyIiwiYXZhdGFyIiwiY2FyZHMiLCJyZW5kZXJJdGVtcyIsInNhdmVVc2VySWQiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsImNhcmRFbGVtZW50IiwiY3JlYXRlTmV3Q2FyZCIsImFkZE9sZEl0ZW0iLCJjYXJkIiwiZ2V0VXNlcklkIiwicG9wdXBWaWV3ZXIiLCJvcGVuIiwiZGVsZXRlQ2FyZExpa2UiLCJnZXRDYXJkSWQiLCJzZXRMaWtlc0NvdW50ZXIiLCJhZGRDYXJkTGlrZSIsImNsb3Nlc3QiLCJwb3B1cENvbmZpcm0iLCJjaGFuZ2VIYW5kbGVyU3VibWl0Rm9ybSIsInByZXZlbnREZWZhdWx0IiwiZGVsZXRlQ2FyZCIsImdlbmVyYXRlQ2FyZCIsInBvcHVwQWRkQ2FyZCIsImlzTG9hZGluZ01lc3NhZ2UiLCJmb3JtVmFsdWVzIiwiZ2V0Rm9ybVZhbHVlcyIsInVybCIsImFkZE5ld0NhcmQiLCJuZXdDYXJkSXRlbSIsImFkZE5ld0l0ZW0iLCJmaW5hbGx5Iiwic2V0RXZlbnRMaXN0ZW5lciIsInBvcHVwQWRkQ2FyZFZhbGlkYXRvciIsImdldEZvcm1FbGVtZW50IiwiZW5hYmxlVmFsaWRhdGlvbiIsInJlc2V0VmFsaWRhdGlvbiIsInBvcHVwVXBkYXRlQXZhdGFyIiwic2V0UHJvZmlsZUF2YXRhciIsInBvcHVwVXBkYXRlQXZhdGFyVmFsaWRhdG9yIiwicG9wdXBFZGl0UHJvZmlsZSIsInRpdGxlIiwic3VidGl0bGUiLCJ1c2VySW5mb0RhdGEiLCJwcm9maWxlRm9ybSIsImVsZW1lbnRzIiwiZGVzY3JpcHRpb24iLCJwb3B1cEVkaXRQcm9maWxlVmFsaWRhdG9yIl0sInNvdXJjZVJvb3QiOiIifQ==